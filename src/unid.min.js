class UNID{#a=0;#b=0;static #c="3y|DWs^oH2%I'k\"qUmY6Q9.(rNLJ,j0`]P$5?CzM*><=@Kn~&a;OwEf)[xhZBpSGlg}-b/cX:{#AvR7Tu+ei4d_!1F\\8tV";static #d=new Map(UNID.#c.split("").map((t,e)=>[t,e]));static isCryptoSupported=Object.freeze("https:"===location.protocol&&"getRandomValues"in crypto);static #e=["267548103","423108567","046238157","762518043","107568324","246538107","154378062","051478632","103248657","071348625"];static #f=UNID.#e.map(t=>t.split("").map(t=>+t));static #g=["jzG[T}S","XJvrYAZ","y^0[z9+","|)BJ?Z%","Ov|UZbW","E}evqX:",'"ulKWD}',"P(}/2bZ","i.w~lY%","q[$+Y@3","c$^zP6)",'BE"-|,>',"],6s-aD","[0dY3aH","gpYw4x~","w}R}zOa","vCK2T&[","`e|qe?%","BYr0[=y",':f"?~X?',"L]xC@^3",',)E["}#',"5OX|BA~","Yk2CbvU","ZH6e(Wx","Y{3nA7P","./YHm,`",'3"2gzNB',"uO*Dep~","}jp+Pl,"];static #h=UNID.#g.map(t=>t.split("").map(t=>UNID.#d.get(t)));static #i(t,e,a,r){for(let s=r-1;s>=0;s--)t[s]=e%a,e=Math.floor(e/a)}static #j($,o){let n=0;for(let i=0;i<$.length;i++)n+=$[i]*Math.pow(o,$.length-1-i);return n}static #k(c,l){if(0==(l=(l%8+8)%8))return;let I=c.slice(-l);c.copyWithin(l,0,8-l),c.set(I,0)}generateID(){let t=Date.now();this.#a!==t?(this.#a=t,this.#b=0):this.#b++;let e=new Uint8Array(9);UNID.#i(e,t,94,7),UNID.#i(e.subarray(7),this.#b,90,2);let a=this.#b%10,r=((UNID.isCryptoSupported?crypto.getRandomValues(new Uint8Array(1))[0]/256:Math.random())*29|0)+1;e[0]=(e[0]-1)*30+r;let s=UNID.#h[r-1];for(let $=0;$<7;$++)e[$+1]=((e[$+1]+s[$]+a)%94+94)%94;UNID.#k(e.subarray(0,8),a);let o=UNID.#f[a],n="";for(let i=0;i<9;i++)n+=UNID.#c[e[o[i]]%94];return n}decodeID(t){let e=UNID.#d.get(t[5])%10,a=UNID.#f[e],r=new Uint8Array(9);for(let s=0;s<9;s++)r[a[s]]=UNID.#d.get(t[s]);UNID.#k(r.subarray(0,8),-e);let $=r[0]%30;r[0]=Math.ceil(r[0]/30);let o=UNID.#h[$-1];for(let n=0;n<7;n++)r[n+1]=((r[n+1]-o[n]-e)%94+94)%94;let i=UNID.#j(r.subarray(0,7),94),c=UNID.#j(r.subarray(7,9),90);return{timestamp:i,index:c}}}
