class UNID{#t=0;#e=0;static#r=[[2,6,7,5,4,8,1,0,3],[4,2,3,1,0,8,5,6,7],[0,4,6,2,3,8,1,5,7],[7,6,2,5,1,8,0,4,3],[1,0,7,5,6,8,3,2,4],[2,4,6,5,3,8,1,0,7],[1,5,4,3,7,8,0,6,2],[0,5,1,4,7,8,6,3,2],[1,0,3,2,4,8,6,5,7],[0,7,1,3,4,8,6,2,5]];static#n=[[33,43,70,62,88,73,69],[79,30,85,27,20,84,66],[2,7,34,62,43,24,90],[3,61,67,30,40,66,12],[57,85,3,18,66,76,5],[59,73,91,85,17,79,80],[16,89,71,50,5,4,73],[37,26,74,77,11,76,66],[92,25,58,52,71,20,12],[17,62,38,90,20,49,0],[78,38,7,43,37,22,61],[67,59,16,75,3,32,46],[36,31,22,6,75,55,4],[63,34,94,20,1,55,9],[72,68,21,58,93,64,53],[58,73,86,73,43,57,55],[85,41,50,10,88,54,62],[35,91,3,17,91,40,12],[67,20,14,34,62,48,2],[80,60,16,40,52,79,40],[29,36,64,42,49,7,1],[31,61,59,63,16,74,82],[39,57,79,3,67,84,52],[21,15,11,42,76,85,18],[66,9,22,91,26,5,64],[20,81,0,51,83,87,37],[25,77,21,9,19,32,35],[1,16,11,72,43,28,67],[89,57,45,4,91,68,52],[73,33,68,90,37,71,32]];static#a="3y|DWs^oH2%I'k\"qUmY6Q9.(rNLJ,j0`]P$5?CzM*><=@Kn~&a;OwEf)[xhZBpSGlg}-b/cX:{#AvR7Tu+ei4d_!1F\\8tV";static#s=new Map(UNID.#a.split("").map(((t,e)=>[t,e])));static#o(t){return(t%94+94)%94}static#c(t,e,r,n){for(let a=n-1;a>=0;a--)t[a]=e%r,e=e/r|0}static#I(t,e){let r=0,n=1;for(let a=t.length-1;a>=0;a--)r+=t[a]*n,n*=e;return r}static#i(t,e){if(0===(e=(e%8+8)%8))return;const r=t.slice(-e);t.copyWithin(e,0,8-e),t.set(r,0)}generateID(){const t=Date.now();this.#t!==t?(this.#t=t,this.#e=0):this.#e++;const e=new Uint8Array(9);UNID.#c(e,t,94,7),UNID.#c(e.subarray(7),this.#e,90,2);const r=this.#e%10,n=1+(crypto.getRandomValues(new Uint8Array(1))[0]/256*29|0);e[0]=30*(e[0]-1)+n;const a=UNID.#n[n-1],s=(94-r)/94;for(let t=0;t<7;t++)e[t+1]=UNID.#o(e[t+1]+(a[t]*s|0)+r);UNID.#i(e.subarray(0,8),r);const o=UNID.#r[r];let c="";for(let t=0;t<9;t++)c+=UNID.#a[e[o[t]]%94];return c}decodeID(t){const e=new Uint8Array(9);for(let r=0;r<9;r++)e[r]=UNID.#s.get(t[r]);const r=e[5]%10,n=UNID.#r[r],a=new Uint8Array(9);for(let t=0;t<9;t++)a[n[t]]=e[t];UNID.#i(a.subarray(0,8),-r);const s=a[0]%30;a[0]=Math.ceil(a[0]/30);const o=(94-r)/94,c=UNID.#n[s-1];for(let t=0;t<7;t++)a[t+1]=UNID.#o(a[t+1]-(c[t]*o|0)-r);return{timestamp:UNID.#I(a.subarray(0,7),94),index:UNID.#I(a.subarray(7,9),90)}}}
